spring:
  profiles:
    active: dev
  application:
    name: "Demo"
    version: "0.1"
  
  # НАСТРОЙКИ ДЛЯ ЗАГРУЗКИ ФАЙЛОВ
  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB
      enabled: true

---

spring:
  config:
    activate:
      on-profile: dev
  
  datasource:
    url: jdbc:postgresql://localhost:5432/test
    username: postgres
    password: qwerty
    driver-class-name: org.postgresql.Driver
  
  jpa:
    database-platform: org.hibernate.dialect.PostgreSQLDialect
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        format_sql: true
  
  # НАСТРОЙКИ ДЛЯ УМНОГО ДОМА
  smart-home:
    automation:
      enabled: true
      update-interval: 5000
    iot:
      mock-data: true

server:
  port: 8080
  servlet:
    session:
      cookie:
        same-site: none
        secure: true

# НАСТРОЙКИ ДЛЯ ЗАГРУЗКИ ФАЙЛОВ
file:
  upload-dir: uploads

jwt:
  secret: 66546A555E5A7234753778214123222A472D4B614E645262356B587032733576
  access:
    duration:
      minute: 5
      second: 300
    name: access_token
  refresh:
    duration:
      day: 7
      second: 604800
    name: refresh_token

# ЛОГИРОВАНИЕ ДЛЯ УМНОГО ДОМА
logging:
  level:
    # Основное приложение - информационный уровень
    com.example.demo: INFO
    
    # Пакеты приложения - информационный уровень
    com.example.demo.controller: INFO
    com.example.demo.service: INFO
    com.example.demo.repository: WARN
    com.example.demo.model: WARN
    
    # JWT и безопасность - только важное
    com.example.demo.jwt: INFO
    org.springframework.security: INFO
    
    # Hibernate - УБИРАЕМ СПАМ SQL
    org.hibernate.SQL: WARN                    # Только предупреждения и ошибки
    org.hibernate.type.descriptor.sql: WARN    # Параметры запросов
    org.hibernate.orm.jdbc.bind: WARN          # Биндинг параметров
    org.hibernate.stat: WARN                   # Статистика
    
    # Spring Data JPA - уменьшаем логи
    org.springframework.data.jpa: WARN
    org.springframework.orm.jpa: WARN
    
    # Spring Framework - только важное
    org.springframework.web: INFO
    org.springframework.boot: INFO
    org.springframework.core: WARN
    org.springframework.transaction: WARN
    
    # База данных и connection pool
    org.springframework.jdbc: WARN
    com.zaxxer.hikari: WARN
    
    # Tomcat и веб-сервер
    org.apache.tomcat: WARN
    org.apache.catalina: WARN
    
    # File upload
    com.example.demo.service.FileStorageService: INFO
    
  pattern:
    console: "%d{HH:mm:ss} %-5level %logger{20} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
  
  # Запись логов в файл (опционально)
  file:
    name: logs/smart-home.log
---

spring:
    config:
        activate:
            on-profile: prod
